<div class="content">
											<p>
	 Расскажем как настроить выгрузку турбо-страниц Яндекс через API с помощью нашего модуля для 1С-Битрикса. Данный способ имеет меньше ограничений на количество передаваемых страниц. Если стандартный способ (с помощью RSS) позволяет загрузить только 1000 элементов в одной RSS (но не больше 10 RSS), то API позволяет загружать неограниченное количество. Единственное ограничение, что за один раз можно передать до 10 файлов, и в каждом из файлов не более 10 000 элементов. Пока они не обработаются больше передать не получится.
</p>
<p>
	 Приступим непосредственно к настройке. В начале нам нужно получить токен в Я.Вебмастере, для этого заходим в сервис, выбрем свой сайт, заходим&nbsp;в настройки и нажимаем&nbsp;кнопку «Получить токен».
</p>
 <img width="996" alt="Получение токена в Яндекс Вебмастер" src="img_md/token_webmaster_turbo.jpg" height="415" title="Получение токена в Яндекс Вебмастер">&nbsp;&nbsp;
<p>
 <br>
	 Затем переходим в административную часть Битрикса, заходим в настройки модуля «Турбо-страницы API» и вставляем полученный токен в поле «Токен»:<br>
</p>
 <img width="819" alt="Вставляем токен в модуль" src="/img_md/Vstavka-tokena-v-modul.jpg" height="400" title="Вставляем токен в модуль">
<p>
 <br>
	 Получаем идентификатор пользователя:
</p>
 <img width="818" alt="получение идентификатора пользователя" src="/img_md/Poluchenie-identifikatora-polzovatelya.jpg" height="395" title="получение идентификатора пользователя"><br>
<p>
 <br>
	 Следующим шагом нам нужно выбрать сайт для связи модуля с вебмастером.&nbsp;<b>Внимание если ваш сайт работает по https, то у вас будет такого вида адрес:&nbsp;https:адрес_сайта.ru:443</b>
</p>
 <b> </b><img width="818" alt="Выбор сайта из Я вебмастера" src="/img_md/Vybor-sayta-iz-vebmastera.png" height="374" title="Выбор сайта из Я вебмастера">
<p>
 <br>
	 После сохранения настроек у вас должен получиться следующий вид:
</p>
 <img width="1024" alt="Настройки модуля турбо-страниц" src="/img_md/modul_installation.jpg" height="497" title="Настройки модуля турбо-страниц">
<p>
 <br>
	 На этом основные настройки по связыванию модуля с API Турбо-страниц Яндекса завершены. Перейдем непосредственно к настройкам выгрузки инфоблоков.
</p>
<p>
	 Выделим сразу основные моменты:&nbsp;
</p>
<ul>
	<li>в разделе "Список RSS-каналов" будут все настройки текущих выгрузок в Турбо-страницы;</li>
	<li>один RSS-канал — один инфоблок, для выгрузки другого инфоблока нужно будет создать еще один RSS-канал.</li>
</ul>
<h2>Настройка выгрузки инфоблока в Турбо-страницы</h2>
<p>
	 Добавляем RSS:
</p>
 <img width="1024" alt="добавление rss для выгрузки" src="/img_md/create_RSS.jpg" height="586" title="добавление rss для выгрузки">
<p>
 <br>
	 Выбираем инфоблок для выгрузки:
</p>
 <img width="1024" alt="выбор инфоблока для выгрузки" src="/img_md/create_RSS_infoblok.jpg" height="586" title="выбор инфоблока для выгрузки">
<p>
 <br>
	 После выбора инфоблока заполняем остальные поля, у модуля есть большое количество настроек, которое позволяет полностью настроить выгрузку элементов инфоблока, даже если у вас нестандартная реализация. При стандартном исполнении первые пункты настроек до «Описание канала» желательно не трогать.<br>
</p>
<h2>Настройки для интернет-магазинов</h2>
 <img width="1024" alt="настройки Турбо-страниц для интернет-магазинов" src="/img_md/install_infoblok.jpg" height="551" title="настройки Турбо-страниц для интернет-магазинов"><br>
<p>
 <br>
	 Выберите свойства товаров и свойства торговых предложений (при наличии) для отображения в турбо-страницах:
</p>
<p>
 <img width="1024" alt="Свойства товаров для турбо-страниц" src="/img_md/install_catalog_turbo.jpg" height="475" title="Свойства товаров для турбо-страниц"><br>
</p>
<p>
	 Поля которые нужно заполнить для всех вариантов шаблона:
</p>
<p>
</p>
<ul>
	<li>Меню (заполняется относительными путями без домена);</li>
	<li>Блок ссылок (по желанию, есть возможность включить Авторекомендации Яндекс);</li>
	<li>Кнопки поделиться (выбор из соц. сетей);</li>
	<li>Формы обратной связи —&nbsp;<b>внимание для работы блока обязательные поля для заполнения: Юр. название</b>&nbsp;и&nbsp;<b>Ссылка на пользовательское соглашение;</b></li>
	<li>Блок обратной связи — выбор из нескольких вариантов расположения на сайте (слева, справа, внизу страницы),&nbsp;<b>внимание при выборе «Форма обратной связи» e-mail должен быть с этого же домена, иначе будут ошибки в вебмастере.</b></li>
</ul>
<h2>Сквозные блоки на турбо-страницах (информационные разделы)</h2>
<p>
	 Для информационных разделов есть возможность забрать контент из какого-либо свойства или склеить несколько значений. Так же вы можете написать свой текст как на скриншоте ниже.&nbsp;<b>Внимание данные разделы будут доступны на всех страницах инфоблока, который вы выгружаете через модуль.</b>
</p>
<p>
 <img width="1024" alt="Настройка информационных разделов в турбо" src="/img_md/info_turbo.jpg" height="257" title="Настройка информационных разделов в турбо">
</p>
<p>
	 После заполнения всех настроек сохраняем заполненные данные.
</p>
<h2>Отладка отображения турбо-страниц</h2>
<p>
	 Переходим к отладке. Для этого нужно перейти на вкладку "Отладка отображения Турбо-страницы" и нажать кнопку "Запустить".
</p>
 <img width="819" alt="запускаем отладку турбо-страниц" src="/img_md/Zapuskaem-otladku.png" height="174" title="запускаем отладку турбо-страниц">
<p>
 <br>
	 После нажатия кнопки вы будете перенаправлены на страницу с информацией о текущей загрузке:
</p>
 <img width="819" alt="проверка статуса загрузки турбо-страниц через API" src="/img_md/Proverka-statusa-zagruzki-stranits.jpg" height="293" title="проверка статуса загрузки турбо-страниц через API">
<p>
 <br>
	 В API Турбо-страниц есть 3 статуса загрузки:
</p>
<ul>
	<li>PROCESSING - обработка и проверка на ошибки;</li>
	<li>OK - загружен без ошибок;</li>
	<li>WARNING - обнаружены не поддерживаемые элементы;</li>
	<li>ERROR - обнаружены ошибки.</li>
</ul>
<p>
	 При первой загрузке время проверки обычно составляет несколько часов. Чтобы обновить статус нужно нажать на кнопку «Обновить».&nbsp;
</p>
<p>
	 После завершения проверок и отсутствия ошибок вид RSS должен быть таким:
</p>
<p>
 <img width="819" alt="загрузка без ошибок" src="/img_md/debug-ok.png" height="222" title="загрузка без ошибок"><br>
</p>
<p>
 <br>
	 Если у вас все таки появятся ошибки, то посмотреть их можно будет на вкладке «Ошибки», где будет указано в каких элементах найдены ошибки. На второй вкладке «Страницы» вы можете посмотреть вид выгруженной турбо-страницы в Яндекс.
</p>
 <img width="819" alt="просмотр вида выгруженных турбо-страниц" src="/img_md/Prosmotr-stranits-vygruzhennykh.jpg" height="482" title="просмотр вида выгруженных турбо-страниц">
<h2>Отправка Турбо-Страниц в Яндекс</h2>
<p>
	 После проверки 10 выгруженных страниц, и отсутствие ошибок можно перейти к выгрузке всех элементов инфоблока в Яндекс. Для этого перейдите в «Список RSS-каналов» зайдите в настроенный канал и перейдите на вкладку «Публикация Турбо-страниц»
</p>
 <img width="819" alt="запуск выгрузки" src="/img_md/Zapusk-vygruzki.png" height="191" title="запуск выгрузки">
<p>
 <br>
	 Модуль выгрузит все ваши элементы с соблюдением всех ограничений API Яндекса.
</p>
<p>
	 Ограничения в модуле следующие:
</p>
<ul>
	<li>Не более 10 000 элементов в одном файле;</li>
	<li>Размер файла не более 10 Мб;</li>
</ul>
<p>
</p>
<p>
 <b>Внимание если у вас появляются ошибки на размер файла измените количество элементов в фиде с помощью настройки "Кол-во элементов в фиде":</b><br>
</p>
<p>
 <b><img width="1024" alt="Ограничение по количеству элементов в турбо-страницах" src="/img_md/turbo_install.jpg" height="586" title="Ограничение по количеству элементов в турбо-страницах"><br>
 </b>
</p>
<p>
	 Статус окончания генерации выглядит так:
</p>
 <img width="819" alt="окончание генерации" src="/img_md/okonchanie-generatsii.jpg" height="311" title="окончание генерации">
<p>
 <b><br>
	 Внимание! </b>При повторных запусках выгрузки, модуль будет искать новые элементы в инфоблоке по дате изменения от последней выгрузки, и если они не будут найдены загрузка производится не будет. Но если есть не отправленные файлы с предыдущей выгрузки, то сначала будут отправлены они. Для принудительного запуска полной выгрузки нужно нажать чек-бокс «Полная выгрузка» на вкладке «Основная».
</p>
<p>
	 После успешной обработки всех страниц в веб-мастере можно будет увидеть подобный статус, последнего загруженного файла:
</p>
 <img width="819" alt="статус выгрузки API в вебмастере" src="/img_md/status-vygruzki-API-v-vebmastere.png" height="138" title="статус выгрузки API в вебмастере">
<p>
 <br>
	 На этом настройка модуля закончена.&nbsp;
</p>
<h2>Настройка выгрузки разделов в турбо-страницы</h2>
<p>
	Для настройки выгрузки разделов необходимо перейти в пункт "Разделы" в меню "Список RSS-каналов" и нажать кнопку "Добавить RSS-канал"
</p>
<p>
	<img width="1024" alt="Создание RSS для разделов турбо-страниц" src="/img_md/install_razdel_turbo.jpg" height="423" title="Создание RSS для разделов турбо-страниц"><br>
</p>
<p>
	Выбираем инфоблок (как и для выгрузки элементов) и переходим к настройке выгрузки.&nbsp;
</p>
<p>
	Выбираем шаблон (для интернет-магазинов catalog).
</p>
<p>
	<img width="1024" alt="Настройки RSS разделов для выгрузки" src="/img_md/rss_razdel.jpg" height="402" title="Настройки RSS разделов для выгрузки"><br>
</p>
<p>
</p>
<p>
	Переходим к настройкам вывода информации и элементов в разделе:
</p>
<img width="1024" alt="Настройки вывода информации разделов в турбо-страницах" src="/img_md/installation_element_for_razdel.jpg" height="629" title="Настройки вывода информации разделов в турбо-страницах">
<p>
	Для удобства есть дополнительные условия отбора как разделов так и элементов. На данных вкладках вы можете настроить необходимую фильтрацию выгрузки разделов и элементов в турбо-страницы.
</p>
<p>
	<b>Фильтр для разделов</b>:
</p>
<img width="1024" alt="Фильтрация разделов для выгрузки в Турбо-страницы" src="/img_md/filtr-razdelov.jpg" height="406" title="Фильтрация разделов для выгрузки в Турбо-страницы">
<p>
	<b>Фильтр для элементов:</b>
</p>
<p>
	<b><img width="1024" alt="Фильтрация выгрузки элементов в турбо-страницах" src="/img_md/filtr-elementov.jpg" height="550" title="Фильтрация выгрузки элементов в турбо-страницах"><br>
	</b>
</p>
<h3>Дополнительные возможности модуля</h3>
<p>
	 Модуль позволяет полностью настроить шаблон выгрузки в турбо-страницы Яндекса используя все возможности, которые сейчас поддерживаются. Для этого вы можете обратиться к нам за индивидуальной настройкой выгрузки или доработать шаблон собственными силами.
</p>						</div>